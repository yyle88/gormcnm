<?xml version="1.0" encoding="UTF-8"?>
<svg width="950" height="580" viewBox="0 0 950 580"
     xmlns="http://www.w3.org/2000/svg">

    <defs>
        <linearGradient id="bg" x1="0" x2="0" y1="0" y2="1">
            <stop offset="0%" stop-color="#fafafa"/>
            <stop offset="100%" stop-color="#f0f0f0"/>
        </linearGradient>

        <marker id="arrow" markerWidth="10" markerHeight="10"
                refX="9" refY="3" orient="auto" markerUnits="strokeWidth">
            <path d="M0,0 L9,3 L0,6 z" fill="#555"/>
        </marker>

        <marker id="arrow-blue" markerWidth="10" markerHeight="10"
                refX="9" refY="3" orient="auto" markerUnits="strokeWidth">
            <path d="M0,0 L9,3 L0,6 z" fill="#4a90e2"/>
        </marker>

        <marker id="arrow-green" markerWidth="10" markerHeight="10"
                refX="9" refY="3" orient="auto" markerUnits="strokeWidth">
            <path d="M0,0 L9,3 L0,6 z" fill="#27ae60"/>
        </marker>

    </defs>

    <style>
        .title {
            font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", system-ui, sans-serif;
            font-size: 22px;
            font-weight: 600;
            fill: #222;
        }
        .subtitle {
            font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", system-ui, sans-serif;
            font-size: 13px;
            fill: #555;
        }
        .box-label {
            font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", system-ui, sans-serif;
            font-size: 15px;
            font-weight: 600;
            fill: #222;
        }
        .box-desc {
            font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", system-ui, sans-serif;
            font-size: 10px;
            fill: #666;
        }
        .layer-label {
            font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", system-ui, sans-serif;
            font-size: 11px;
            fill: #888;
            font-weight: 500;
        }
        .arrow-label {
            font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", system-ui, sans-serif;
            font-size: 9px;
            fill: #27ae60;
        }
        .gen-label {
            font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", system-ui, sans-serif;
            font-size: 9px;
            fill: #4a90e2;
        }

        /* 流动点动画 */
        .flow-dot {
            opacity: 0.9;
        }
    </style>

    <!-- 背景框 -->
    <rect x="10" y="10" width="930" height="560" fill="url(#bg)" stroke="#ddd" stroke-width="1" rx="8" ry="8"/>

    <!-- 标题 -->
    <text x="475" y="50" text-anchor="middle" class="title">GORM Type-Safe Ecosystem</text>
    <text x="475" y="72" text-anchor="middle" class="subtitle">gormcnm powers type-safe column operations</text>

    <!-- 层级标签 -->
    <text x="50" y="125" class="layer-label">APPLICATION</text>
    <text x="50" y="240" class="layer-label">REPOSITORY</text>
    <text x="50" y="365" class="layer-label">FOUNDATION</text>
    <text x="50" y="485" class="layer-label">ORM BACKEND</text>

    <!-- Application Code 1 -->
    <g transform="translate(160,95)">
        <rect width="180" height="65" fill="#ffffff" stroke="#95a5a6" stroke-width="1.5" rx="10" ry="10"/>
        <text x="90" y="28" text-anchor="middle" class="box-label">Application Code</text>
        <text x="90" y="46" text-anchor="middle" class="box-desc">Business logic / services</text>
    </g>

    <!-- Application Code 2 -->
    <g transform="translate(440,95)">
        <rect width="180" height="65" fill="#ffffff" stroke="#95a5a6" stroke-width="1.5" rx="10" ry="10"/>
        <text x="90" y="28" text-anchor="middle" class="box-label">Application Code</text>
        <text x="90" y="46" text-anchor="middle" class="box-desc">Business logic / services</text>
    </g>

    <!-- Application Code 3 -->
    <g transform="translate(720,95)">
        <rect width="180" height="65" fill="#ffffff" stroke="#95a5a6" stroke-width="1.5" rx="10" ry="10"/>
        <text x="90" y="28" text-anchor="middle" class="box-label">Application Code</text>
        <text x="90" y="46" text-anchor="middle" class="box-desc">Business logic / services</text>
    </g>

    <!-- gormrepo -->
    <g transform="translate(160,210)">
        <!-- 外层光环 -->
        <rect x="-4" y="-4" width="188" height="73" rx="12" ry="12" fill="none" stroke="#27ae60" stroke-width="1">
            <animate attributeName="stroke-opacity" values="0.1;0.5;0.1" dur="2.5s" repeatCount="indefinite"/>
            <animate attributeName="stroke-width" values="1;2.5;1" dur="2.5s" repeatCount="indefinite"/>
        </rect>
        <rect width="180" height="65" fill="#ffffff" stroke="#27ae60" stroke-width="1.5" rx="10" ry="10">
            <animate attributeName="stroke-width" values="1.5;2.5;1.5" dur="2.5s" repeatCount="indefinite"/>
        </rect>
        <text x="90" y="28" text-anchor="middle" class="box-label">gormrepo</text>
        <text x="90" y="46" text-anchor="middle" class="box-desc">Package Pattern</text>
    </g>

    <!-- gormmom -->
    <g transform="translate(440,210)">
        <!-- 外层光环 -->
        <rect x="-4" y="-4" width="188" height="73" rx="12" ry="12" fill="none" stroke="#27ae60" stroke-width="1">
            <animate attributeName="stroke-opacity" values="0.1;0.5;0.1" dur="2.8s" repeatCount="indefinite"/>
            <animate attributeName="stroke-width" values="1;2.5;1" dur="2.8s" repeatCount="indefinite"/>
        </rect>
        <rect width="180" height="65" fill="#ffffff" stroke="#27ae60" stroke-width="1.5" rx="10" ry="10">
            <animate attributeName="stroke-width" values="1.5;2.5;1.5" dur="2.8s" repeatCount="indefinite"/>
        </rect>
        <text x="90" y="28" text-anchor="middle" class="box-label">gormmom</text>
        <text x="90" y="46" text-anchor="middle" class="box-desc">Native Lang Smart Tags</text>
    </g>

    <!-- gormzhcn -->
    <g transform="translate(720,210)">
        <!-- 外层光环 -->
        <rect x="-4" y="-4" width="188" height="73" rx="12" ry="12" fill="none" stroke="#27ae60" stroke-width="1">
            <animate attributeName="stroke-opacity" values="0.1;0.5;0.1" dur="3s" repeatCount="indefinite"/>
            <animate attributeName="stroke-width" values="1;2.5;1" dur="3s" repeatCount="indefinite"/>
        </rect>
        <rect width="180" height="65" fill="#ffffff" stroke="#27ae60" stroke-width="1.5" rx="10" ry="10">
            <animate attributeName="stroke-width" values="1.5;2.5;1.5" dur="3s" repeatCount="indefinite"/>
        </rect>
        <text x="90" y="28" text-anchor="middle" class="box-label">gormzhcn</text>
        <text x="90" y="46" text-anchor="middle" class="box-desc">Native Chinese APIs</text>
    </g>

    <!-- gormcnm (核心 - 带炫光动画) -->
    <g transform="translate(160,325)">
        <!-- 外层光环2 (最外层，扩散最大) -->
        <rect x="-8" y="-8" width="196" height="96" rx="14" ry="14" fill="none" stroke="#4a90e2" stroke-width="1">
            <animate attributeName="stroke-opacity" values="0;0.3;0" dur="3s" repeatCount="indefinite"/>
            <animate attributeName="stroke-width" values="1;4;1" dur="3s" repeatCount="indefinite"/>
        </rect>
        <!-- 外层光环1 -->
        <rect x="-4" y="-4" width="188" height="88" rx="12" ry="12" fill="none" stroke="#4a90e2" stroke-width="1">
            <animate attributeName="stroke-opacity" values="0.2;0.6;0.2" dur="2s" repeatCount="indefinite"/>
            <animate attributeName="stroke-width" values="1;3;1" dur="2s" repeatCount="indefinite"/>
        </rect>
        <!-- 主框体 -->
        <rect width="180" height="80" fill="#ffffff" stroke="#4a90e2" stroke-width="2" rx="10" ry="10">
            <animate attributeName="stroke-width" values="2;3;2" dur="2s" repeatCount="indefinite"/>
        </rect>
        <text x="90" y="32" text-anchor="middle" class="box-label">gormcnm</text>
        <text x="90" y="50" text-anchor="middle" class="box-desc">Type-safe column core</text>
        <text x="90" y="66" text-anchor="middle" class="box-desc">ColumnName[T] / DSL</text>
    </g>

    <!-- gormcngen -->
    <g transform="translate(440,325)">
        <!-- 外层光环 -->
        <rect x="-4" y="-4" width="188" height="88" rx="12" ry="12" fill="none" stroke="#4a90e2" stroke-width="1" stroke-dasharray="6,3">
            <animate attributeName="stroke-opacity" values="0.1;0.5;0.1" dur="2.2s" repeatCount="indefinite"/>
            <animate attributeName="stroke-width" values="1;2.5;1" dur="2.2s" repeatCount="indefinite"/>
        </rect>
        <rect width="180" height="80" fill="#ffffff" stroke="#4a90e2" stroke-width="1.2" stroke-dasharray="4,2" rx="10" ry="10">
            <animate attributeName="stroke-width" values="1.2;2;1.2" dur="2.2s" repeatCount="indefinite"/>
        </rect>
        <text x="90" y="32" text-anchor="middle" class="box-label">gormcngen</text>
        <text x="90" y="50" text-anchor="middle" class="box-desc">Code Generate / AST</text>
        <text x="90" y="66" text-anchor="middle" class="box-desc">Auto-generate column defs</text>
    </g>

    <!-- GORM -->
    <g transform="translate(160,455)">
        <rect width="180" height="65" fill="#ffffff" stroke="#7f8c8d" stroke-width="1.5" rx="10" ry="10"/>
        <text x="90" y="28" text-anchor="middle" class="box-label">GORM</text>
        <text x="90" y="46" text-anchor="middle" class="box-desc">ORM backend / database</text>
    </g>

    <!-- 静态箭头 -->
    <line x1="250" y1="160" x2="250" y2="210" stroke="#555" stroke-width="1.5" marker-end="url(#arrow)"/>
    <line x1="530" y1="160" x2="530" y2="210" stroke="#555" stroke-width="1.5" marker-end="url(#arrow)"/>
    <line x1="810" y1="160" x2="810" y2="210" stroke="#555" stroke-width="1.5" marker-end="url(#arrow)"/>
    <line x1="250" y1="275" x2="250" y2="325" stroke="#555" stroke-width="1.5" marker-end="url(#arrow)"/>
    <line x1="250" y1="405" x2="250" y2="455" stroke="#555" stroke-width="1.5" marker-end="url(#arrow)"/>

    <!-- 横向箭头 -->
    <line x1="440" y1="242" x2="350" y2="242" stroke="#27ae60" stroke-width="1.5" marker-end="url(#arrow-green)"/>
    <text x="395" y="232" text-anchor="middle" class="arrow-label">extends</text>
    <line x1="720" y1="242" x2="630" y2="242" stroke="#27ae60" stroke-width="1.5" marker-end="url(#arrow-green)"/>
    <text x="675" y="232" text-anchor="middle" class="arrow-label">extends</text>
    <line x1="440" y1="365" x2="350" y2="365" stroke="#4a90e2" stroke-width="1.5" stroke-dasharray="4,2" marker-end="url(#arrow-blue)"/>
    <text x="395" y="355" text-anchor="middle" class="gen-label">generates</text>

    <!-- 流动数据点动画 - 主路径 (App1 → gormrepo → gormcnm → GORM) -->
    <circle class="flow-dot" r="4" fill="#4a90e2">
        <animate attributeName="cy" values="95;160;210;275;325;405;455;520" dur="4.5s" repeatCount="indefinite" calcMode="linear"/>
        <animate attributeName="cx" values="250;250;250;250;250;250;250;250" dur="4.5s" repeatCount="indefinite"/>
        <animate attributeName="opacity" values="0;1;1;1;1;1;1;0" dur="4.5s" repeatCount="indefinite"/>
    </circle>

    <!-- 流动数据点动画 - 第二路径 (App2 → gormmom，延迟启动) -->
    <circle class="flow-dot" r="4" fill="#27ae60">
        <animate attributeName="cy" values="95;160;210;242;242" dur="2.5s" repeatCount="indefinite" begin="0.8s"/>
        <animate attributeName="cx" values="530;530;530;530;440" dur="2.5s" repeatCount="indefinite" begin="0.8s"/>
        <animate attributeName="opacity" values="0;1;1;1;0" dur="2.5s" repeatCount="indefinite" begin="0.8s"/>
    </circle>

    <!-- 流动数据点动画 - 第三路径 (App3 → gormzhcn → gormmom，延迟启动) -->
    <circle class="flow-dot" r="4" fill="#27ae60">
        <animate attributeName="cy" values="95;160;210;242;242" dur="3s" repeatCount="indefinite" begin="1.5s"/>
        <animate attributeName="cx" values="810;810;810;810;720" dur="3s" repeatCount="indefinite" begin="1.5s"/>
        <animate attributeName="opacity" values="0;1;1;1;0" dur="3s" repeatCount="indefinite" begin="1.5s"/>
    </circle>

    <!-- 流动数据点动画 - gormcngen → gormcnm -->
    <circle class="flow-dot" r="3" fill="#4a90e2">
        <animate attributeName="cx" values="440;350" dur="1.5s" repeatCount="indefinite" begin="2s"/>
        <animate attributeName="cy" values="365;365" dur="1.5s" repeatCount="indefinite" begin="2s"/>
        <animate attributeName="opacity" values="0;1;1;0" dur="1.5s" repeatCount="indefinite" begin="2s"/>
    </circle>

</svg>
